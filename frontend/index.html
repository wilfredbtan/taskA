<!DOCTYPE html>
<html>
  <head>
    <title>Frontend</title>
    <script>
      window.onload = function () {
        fetch('/api', {method: 'get'})
          .then((response) => {
            const json = response.json();
            if (response.ok) {
              return json;
            }
            return Promise.reject(new Error('Something went wrong.'));
          })
          .then((response) => {
            document.getElementById('response').innerHTML = JSON.stringify(
              response
            );
          })
          .catch((error) => {
            document.getElementById('error').innerHTML =
              (error && error.message) || 'Something else went wrong.';
          });
      };
    </script>
  </head>
  <body>
    <h1>Wilfred's Reverse Proxy</h1>
    <p id="response"></p>
    <p id="error"></p>
  </body>
</html>
